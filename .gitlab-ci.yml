image: maven:latest
variables:
  MAVEN_OPTS: "-Dmaven.repo.local=.m2/repository"

stages:
  - verification 
  - compile
  - test
  - deploy
cache:
  paths:
    - .m2/repository/
    - target/


verification_job:
  stage: verification
  script:
    - 'pwd'
    - 'ls -l'
    - 'mvn --version'
    - 'java -version'
    - 'javac -version'

compile_job:

  stage: compile
  script:
    - 'mvn compile'

verify_job:
  stage: test
  script:
    - 'mvn test'
 

deploy:
  stage: deploy
  script:
    - echo "Deploying to GitLab Maven Repository Coming Soon"
    - 'mvn deploy'